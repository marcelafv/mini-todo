{"ast":null,"code":"const storageKey = \"TODO_ITEMS\";\nconst delayMs = 1000;\n\nfunction getFromStorage() {\n  const fromStorage = localStorage.getItem(storageKey);\n  return fromStorage ? JSON.parse(fromStorage) : [];\n}\n\nfunction get() {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(getFromStorage()), delayMs);\n  });\n}\n\nfunction complete(id) {\n  return new Promise(resolve => {\n    const items = getFromStorage();\n    const updatedItems = items.map(item => item.id === id ? { ...item,\n      complete: true\n    } : item);\n    localStorage.setItem(storageKey, JSON.stringify(updatedItems));\n    setTimeout(() => resolve(updatedItems), delayMs);\n  });\n}\n\nfunction add(item) {\n  return new Promise(resolve => {\n    const items = getFromStorage();\n    const newId = items.reduce((id, item) => item.id >= id ? item.id + 1 : id, 1);\n    const updatedItems = [...items, { ...item,\n      id: newId\n    }];\n    localStorage.setItem(storageKey, JSON.stringify(updatedItems));\n    setTimeout(() => resolve(updatedItems), delayMs);\n  });\n}\n\nexport default {\n  get,\n  complete,\n  add\n};","map":{"version":3,"sources":["/home/marcela/Documents/mini-todo/src/todoApi.jsx"],"names":["storageKey","delayMs","getFromStorage","fromStorage","localStorage","getItem","JSON","parse","get","Promise","resolve","setTimeout","complete","id","items","updatedItems","map","item","setItem","stringify","add","newId","reduce"],"mappings":"AACA,MAAMA,UAAU,GAAG,YAAnB;AACA,MAAMC,OAAO,GAAG,IAAhB;;AAEA,SAASC,cAAT,GAA0B;AACtB,QAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqBL,UAArB,CAApB;AACA,SAAOG,WAAW,GAAGG,IAAI,CAACC,KAAL,CAAWJ,WAAX,CAAH,GAA6B,EAA/C;AACH;;AAED,SAASK,GAAT,GAAe;AACX,SAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC1BC,IAAAA,UAAU,CAAC,MAAMD,OAAO,CAACR,cAAc,EAAf,CAAd,EAAkCD,OAAlC,CAAV;AACH,GAFM,CAAP;AAGH;;AAED,SAASW,QAAT,CAAkBC,EAAlB,EAAsB;AAClB,SAAO,IAAIJ,OAAJ,CAAYC,OAAO,IAAI;AAC1B,UAAMI,KAAK,GAAGZ,cAAc,EAA5B;AACA,UAAMa,YAAY,GAAGD,KAAK,CAACE,GAAN,CAAUC,IAAI,IAAKA,IAAI,CAACJ,EAAL,KAAYA,EAAZ,GAAiB,EAAE,GAAGI,IAAL;AAAWL,MAAAA,QAAQ,EAAE;AAArB,KAAjB,GAA+CK,IAAlE,CAArB;AACAb,IAAAA,YAAY,CAACc,OAAb,CAAqBlB,UAArB,EAAiCM,IAAI,CAACa,SAAL,CAAeJ,YAAf,CAAjC;AACAJ,IAAAA,UAAU,CAAC,MAAMD,OAAO,CAACK,YAAD,CAAd,EAA8Bd,OAA9B,CAAV;AACH,GALM,CAAP;AAMH;;AAED,SAASmB,GAAT,CAAaH,IAAb,EAAmB;AACf,SAAO,IAAIR,OAAJ,CAAYC,OAAO,IAAI;AAC1B,UAAMI,KAAK,GAAGZ,cAAc,EAA5B;AACA,UAAMmB,KAAK,GAAGP,KAAK,CAACQ,MAAN,CAAa,CAACT,EAAD,EAAKI,IAAL,KAAeA,IAAI,CAACJ,EAAL,IAAWA,EAAX,GAAgBI,IAAI,CAACJ,EAAL,GAAU,CAA1B,GAA8BA,EAA1D,EAA+D,CAA/D,CAAd;AACA,UAAME,YAAY,GAAG,CAAC,GAAGD,KAAJ,EAAW,EAAE,GAAGG,IAAL;AAAWJ,MAAAA,EAAE,EAAEQ;AAAf,KAAX,CAArB;AACAjB,IAAAA,YAAY,CAACc,OAAb,CAAqBlB,UAArB,EAAiCM,IAAI,CAACa,SAAL,CAAeJ,YAAf,CAAjC;AACAJ,IAAAA,UAAU,CAAC,MAAMD,OAAO,CAACK,YAAD,CAAd,EAA8Bd,OAA9B,CAAV;AACH,GANM,CAAP;AAOH;;AAED,eAAe;AAAEO,EAAAA,GAAF;AAAOI,EAAAA,QAAP;AAAiBQ,EAAAA;AAAjB,CAAf","sourcesContent":["\nconst storageKey = \"TODO_ITEMS\";\nconst delayMs = 1000;\n\nfunction getFromStorage() {\n    const fromStorage = localStorage.getItem(storageKey);\n    return fromStorage ? JSON.parse(fromStorage) : [];\n}\n\nfunction get() {\n    return new Promise(resolve => {\n        setTimeout(() => resolve(getFromStorage()), delayMs);\n    });\n}\n\nfunction complete(id) {\n    return new Promise(resolve => {\n        const items = getFromStorage();\n        const updatedItems = items.map(item => (item.id === id ? { ...item, complete: true } : item));\n        localStorage.setItem(storageKey, JSON.stringify(updatedItems));\n        setTimeout(() => resolve(updatedItems), delayMs);\n    });\n}\n\nfunction add(item) {\n    return new Promise(resolve => {\n        const items = getFromStorage();\n        const newId = items.reduce((id, item) => (item.id >= id ? item.id + 1 : id), 1);\n        const updatedItems = [...items, { ...item, id: newId }];\n        localStorage.setItem(storageKey, JSON.stringify(updatedItems));\n        setTimeout(() => resolve(updatedItems), delayMs);\n    });\n}\n\nexport default { get, complete, add };"]},"metadata":{},"sourceType":"module"}